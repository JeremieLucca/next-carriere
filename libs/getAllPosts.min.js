import{useEffect,useState,useCallback}from"react";import useSWR from"swr";const fetcher=url=>fetch(url).then(res=>res.json());export const useFetchPosts=()=>{const{data:data,error:error,revalidate:revalidate}=useSWR("https://api.lever.co/v0/postings/lucca?mode=json",fetcher);return useEffect(()=>{const handleVisibilityChange=()=>{"visible"===document.visibilityState&&revalidate()};return document.addEventListener("visibilitychange",handleVisibilityChange),()=>{document.removeEventListener("visibilitychange",handleVisibilityChange)}},[revalidate]),{data:data,error:error,isLoading:!data&&!error}};